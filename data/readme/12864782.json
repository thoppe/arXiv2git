{
  "read_at": 1462549895, 
  "description": "Parallel COLA cosmological simulation + 2LPT initial condition generator + FoF halo finder", 
  "README.md": "cola_halo\n=========\n\nParallel COLA cosmological simulation + 2LPT initial condition\ngenerator + FoF halo finder\n\nThis is a parallel cosmological N-body simulation code running the\nfollowing on the fly, designed to generate hundreds of realizations:\n\n1. Generates random Gaussian initial condition with 2LPT --\nsecond-order Lagrangian Perturbation Theory (Scoccimarro 1998; Crocce,\nPueblas, & Scoccimarro 2006,[[1]]).\n2. Time evolve N-body particles with the COmoving Lagrangian\nAcceleration (COLA) method (Tassev, Zaldarriaga, & Eisenstein\n2013,[[2]])\n3. Finds dark-matter haloes with the Friends-of-Friends algorithm\n(Davis et al. 1985, [Washington University N-body shop][3]).\n\n\nThis code is based on publicly available codes ([1], [2], [3]),\nmodified and redistributed under GPLv3.\n\n# Compile\n\nThis code requires an MPI C compiler `mpicc`, GNU Scientific Library\n[GSL](https://www.gnu.org/software/gsl/) and\n[FFTW](http://www.fftw.org/). If they are installed in nonstandard\nlocations, set the variables `GSL_DIR` and `FFTW3_DIR` in the\n`Makefile`.\n\n```bash\n% make\n```\n\nshould compile the code and create the executable `cola_halo`.\n\n# Run\n\n\n- The simulation requires a linear **power spectrum** extrapolated to\n  redshift z=0, specified by the `powerspectrum` variable in the\n  parameter file `param.lua`. The file should give a list of *k*\n  [h/Mpc] and *P(k)* [(Mpc/h)<sup>3</sup>], which can be the\n  `matterpower.dat` file generate by [CAMB](http://camb.info/). The\n  power spectrum should have the &sigma;<sub>8</sub>; specified in the\n  parameter file (the code does not rescale the amplitude to the given\n  &sigma;<sub>8</sub>). A power spectrum file consistent with the\n  default parameter file is\n  [here](http://www13273u.sakura.ne.jp/wizcola/camb0_matterpower.dat).\n\n- Edit the parameter file `param.lua` and set the number of particles,\n  box size, number of time steps, etc.\n\n- Run the code with the name of the parameter file\n\n```\n   mpirun -n 4 cola_halo param.lua\n```\nWhere 4 is the number of MPI nodes you use. It can be any number, but\nwe recommend it is a divisor of the number of particle per dimension\n`nc` for effective domain decomposition.\n\n# Outputs\n\nFile names are formatted as fof00100a.txt, where 00100 is the\n`random_seed` for the initial condition, and a,b,c,... corresponds to\nfirst, second, third, ..., `output_redshifts`.\n\n- The N-body particles `snp` are in the\n  [GADGET](http://www.mpa-garching.mpg.de/gadget/) binary format.\n- The halo catalogue `fof` is a ascii file:\n\n```\nnfof x y z vx vy vz\n```\n\nwhere `nfof` is the number of N-body particles in the FoF group, (x y\nz) is the centre-of-mass position in comoving 1/h Mpc, (vx vy vz) is\nthe average peculiar (physical) velocity in km/s.\n\n- The matter density field `grid` and subsampled particles `sub` are\n  simple binary files; see `tools/density_grid.c` and\n  `tools/subsampled_particles.c`.\n\n# Options\n\n- You can do simple calculation in the parameter file, e.g,\n\n```\ncoarse_grid_nc = nc/4\n```\n\nwith the [LUA programming launguage](http://www.lua.org/) by turning\non the `USE_LUA` option in the parameter file.\n\n- You can turn on Hybrid MPI+OpenMP parallelisation by setting the\n  `OPENMP` variable. The FoF halo finder, however, is not parallelised\n  by OpenMP.\n\n# Related codes\n\n- l-picola: Another parallel COLA implementation by Cullan Howlett and\n  Marc Manera [4], including on-the-fly lightcone generation.\n\n- QrPM: A fork of this code. The parallelisation improved by using 2D\n  domain decomposition. [5]\n\n\n# Authors\n\nThis code is assembled and parallelized (COLA & FOF) by Jun Koda. See\nreference 5 below about the application to the mock generation of\nWiggleZ Dark Energy Survey and its accuracy. Feel free to [open an\nissue](https://github.com/junkoda/cola_halo/issues) for bug reports or\nquestions.\n\n# References \n1. Crocce, M., Pueblas, S., & Scoccimarro, R. 2006, MNRAS, 373, 369\n2. Davis, M., Efstathiou, G., Frenk, C.~S., & White, S.D.M. 1985, ApJ, 292, 371 \n3. Scoccimarro, R. 1998, MNRAS, 299, 1097\n4. Tassev, S., Zaldarriaga, M., & Eisenstein, D.~J. 2013, JCAP, 6, 36 \n5. Koda, J., et al 2015, [arXiv:1507.05329](http://arxiv.org/abs/1507.05329), MNRAS submitted\n\n[1]: http://cosmo.nyu.edu/roman/2LPT/\n[2]: https://bitbucket.org/tassev/colacode/\n[3]: http://www-hpcc.astro.washington.edu/tools/fof.html\n[4]: https://github.com/CullanHowlett/l-picola\n[5]: https://github.com/rainwoodman/QrPM\n", 
  "id": 12864782
}