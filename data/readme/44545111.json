{
  "id": 44545111, 
  "read_at": 1462556611, 
  "README.rst": "chimera-skyflat plugin\n======================\n\nThis is a template plugin for the chimera observatory control system\nhttps://github.com/astroufsc/chimera.\n\nMakes skyflatting easier and less stressful :smiley:\n\nSkyflat Principle\n-----------------\n\nThis plugin is based on this preprint article: http://arxiv.org/abs/1407.8283\n\nFirst one should fit an exponential to the counts/second versus altitude plot.\n\n.. image:: docs/skyflatexp_example.png\n\nThe exponential coefficients are saved on a JSON file as indicated below and the further skyflats are taken automatically.\n\nUsage\n-----\n\nInstall ``chimera-skyflat``, then configure it on chimera.config and create a json file with the exponential paramenters\non, i.e., ``~/.chimera/skyflats.json``.\n\nRunning ``chimera-skyflat`` script:\n::\n\n    Usage: chimera-skyflat [options]\n\n    Chimera - Observatory Automation System - SkyFlats\n\n    Options:\n      --version             show program's version number and exit\n      -h, --help            show this help message and exit\n      -v, --verbose         Display information while working\n      -q, --quiet           Don't display information while working.\n                            [default=True]\n\n      skyFlats:\n        --auto              Does a sequence of sky flats\n        --skyflat=SKYFLAT   Auto Sky Flats\n        --sun-high=FILE     Highest Sun altitude\n        -n NUMBER, --number=NUMBER\n                            Number of skyflats to take on the filter\n        -f FILTER, --filter=FILTER\n                            Skyflat filter name\n        --sun-low=FILE      Lowest Sun altitude\n\n      Client Configuration:\n        --config=CONFIG     Chimera configuration file to use.\n                            default=/Users/william/.chimera/chimera.config\n                            [default=/Users/william/.chimera/chimera.config]\n        -P PORT, --port=PORT\n                            Port to which the local Chimera instance will listen\n                            to. [default=9000]\n\n      Object Paths:\n        -C PATH, --controllers-dir=PATH\n                            Append PATH to controllers load path. This option\n                            could be setted multiple times to add multiple\n                            directories. [default=['/Users/william/.virtualenvs/ch\n                            imera/lib/python2.7/site-\n                            packages/chimera/controllers',\n                            '/Users/william/.virtualenvs/chimera/lib/python2.7\n                            /site-packages/chimera_pverify/controllers',\n                            '/Users/william/.virtualenvs/chimera/lib/python2.7\n                            /site-packages/chimera_skyflat/controllers']]\n\n* Example:\n\n::\n\n    $ chimera-skyflat -f R,I -n 3 --auto --sun-hi 0 --sun-lo -12\n    Pointing scope to the zenith and waiting for the Sun to reach skyflats altitude range\n    Filter: R, Skyflat # 1 - Exposure time: 2.20 seconds - Counts: 1000.00\n    Filter: R, Skyflat # 2 - Exposure time: 16.60 seconds - Counts: 1000.00\n    Filter: R, Skyflat # 3 - Exposure time: 15.20 seconds - Counts: 1000.00\n    Filter: I, Skyflat # 1 - Exposure time: 0.40 seconds - Counts: 1000.00\n    Filter: I, Skyflat # 2 - Exposure time: 5.40 seconds - Counts: 1000.00\n    Filter: I, Skyflat # 3 - Exposure time: 5.60 seconds - Counts: 1000.00\n    Finished.\n\ntakes 3 skyflats on filters ``R`` and ``I`` if the sun is between 0 a -12 degrees of altitude.\n\n\nInstallation\n------------\n\n::\n\n    pip install -U git+https://github.com/astroufsc/chimera-skyflat.git\n\n\nConfiguration Example\n---------------------\n\nConfiguration example to be added on ``chimera.config`` file:\n\n::\n\n    controllers:\n        - type: AutoSkyFlat\n          name: autoskyflat\n          site: /Site/0\n          telescope: /Telescope/0\n          camera: /Camera/0\n          filterwheel: /FilterWheel/0\n          dome: /Dome/0\n          tracking: True                     # Enable telescope tracking when exposing?\n          flat_position_max: 1               # If telescope less than flat_position_max it does not move prior to expose. (degrees)\n          flat_alt: 89                       # Skyflat position - Altitude. (degrees)\n          flat_az: 78                        # Skyflat position - Azimuth. (degrees)\n          pier_side: TelescopePierSide.EAST  # Pier Side to take Skyflat\n          sun_alt_hi: -5                     # Lowest Sun Altitude to make Skyflats. (degrees)\n          sun_alt_low: -30                   # Highest Sun Altitude to make Skyflats. (degrees)\n          exptime_increment: 0.2             # Exposure time increment on integration. (seconds)\n          exptime_max: 300                   # Maximum exposure time. (seconds)\n          idealCounts: 25000                 # Ideal flat CCD counts.\n          coefficients_file: ~/.chimera/skyflats.json\n\n\n``skyflats.json`` file example:\n\n::\n\n    {\n        \"U\": [16500, 70, -14],\n        \"G\": [32002478, 97, 195],\n        \"R\": [355328, 44, 108],\n        \"I\": [41222293, 94, -68],\n        \"Z\": [5985164, 85, 106]\n    }\n\nThe coefficients on the list are Scale, Slope and Bias from the equation:\n\n``counts_per_sec = scale * exp(slope * sun_altitude) + bias``\n\nContact\n-------\n\nFor more information, contact us on chimera's discussion list:\nhttps://groups.google.com/forum/#!forum/chimera-discuss\n\nBug reports and patches are welcome and can be sent over our GitHub page:\nhttps://github.com/astroufsc/chimera-skyflat/\n", 
  "description": "Chimera plugin for automated skyflats"
}