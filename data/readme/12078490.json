{
  "read_at": 1462559173, 
  "description": "diHiggs analysis for Les Houches 2013", 
  "README.md": "LH-HH\n=====\n  \n  Two things needs to be installed: Delphes and this package. Delphes needs CMSSW to be run (see below), we'll assume every of this three things is located in the same directory.\n\n## First: run Delphes\n\n### Setting things up\n\nDelphes needs ROOT to run, we'll just go through CMSSW for that\n\n        cmsrel CMSSW_5_3_9\n        cd CMSSW_5_3_9/src\n        cmsenv\n        cd ../..\n        \nNext you need to get / compile Delphes 3.0.12 (as of 2013-03-25)\n\n        wget http://cp3.irmp.ucl.ac.be/downloads/Delphes-3.0.12.tar.gz\n        tar -xvzf Delphes-3.0.12.tar.gz\n        cd Delphes-3.0.12\n        make -j 8\n\nOnce Delphes is setup, we want to get some realistic detector parameters. Some sets can be found from the Snowmass exercise 2013 [here](http://www.snowmass2013.org/tiki-index.php?page=Energy_Frontier_FastSimulation) and referencable from [arXiv:1309.1057](http://arxiv.org/abs/1309.1057). Below how to get the cards themselves\n\n        # Get detector configuration cards\n        mkdir Snowmass_cards\n        wget -O Snowmass_cards/delphes_card_Snowmass_NoPileUp.tcl http://cvs.web.cern.ch/cvs/cgi-bin/viewcvs.cgi/UserCode/spadhi/Snowmass/Cards/delphes_card_Snowmass_NoPileUp.tcl?view=co\n        wget -O Snowmass_cards/delphes_card_Snowmass_50PileUp.tcl http://cvs.web.cern.ch/cvs/cgi-bin/viewcvs.cgi/UserCode/spadhi/Snowmass/Cards/delphes_card_Snowmass_50PileUp.tcl?view=co\n        wget -O Snowmass_cards/delphes_card_Snowmass_140PileUp.tcl http://cvs.web.cern.ch/cvs/cgi-bin/viewcvs.cgi/UserCode/spadhi/Snowmass/Cards/delphes_card_Snowmass_140PileUp.tcl?view=co\n        wget -O Snowmass_cards/delphes_card_Snowmass_VLHCPileUp.tcl http://cvs.web.cern.ch/cvs/cgi-bin/viewcvs.cgi/UserCode/spadhi/Snowmass/Cards/delphes_card_Snowmass_VLHCPileUp.tcl?view=co\n        # Correct some 3.0.10 to 3.0.12 Delphes versioning\n        sed -i -e 's/AdjacencyCut 2\\.0/AdjacencyCut 2/g' Snowmass_cards/delphes_card_Snowmass_NoPileUp.tcl\n        # Get pileup files\n        mkdir Snowmass_pileup\n        wget -P Snowmass_pileup http://red-gridftp11.unl.edu/Snowmass/MinBias100K_14TeV.pileup\n        wget -P Snowmass_pileup http://red-gridftp11.unl.edu/Snowmass/MinBias100K_13TeV.pileup\n        wget -P Snowmass_pileup http://red-gridftp11.unl.edu/Snowmass/MinBias100K_33TeV.pileup\n        \nNow everything should be setup for proper running, you can test it by doing the following\n\n        rm test.root; xrd eoscms cat /eos/cms/store/cmst3/user/obondu/HH/signal/13TeV/MGraviton_900_HHtobbbb.hepmc.gz | gunzip | ./DelphesHepMC Snowmass_cards/delphes_card_Snowmass_NoPileUp.tcl test.root\n        rm test.root; xrd eoscms cat /eos/cms/store/cmst3/user/obondu/HH/signal/13TeV/MGraviton_900_HHtobbbb.hepmc.gz | gunzip | ./DelphesHepMC Snowmass_cards/delphes_card_Snowmass_50PileUp.tcl test.root\n\n### Run Delphes through lxbatch\n\nFirst, `source setup_afs.sh` should be run to setup the proper running environement.\n\nA couple of utilities are here to run on lxbatch, namely `runDelphes.sh` and `do_submitDelphes.py`:\n* `runDelphes.sh` will at its core be running the command `DelphesHepMC`:  copying the stuff needed from afs, copying the result to eos\n* `do_submitDelphes.py` will be submitting to lxbatch a bunch of jobs running `runDelphes.sh`\n\nSo actual submission of the jobs is done by\n\n        ./do_submitDelphes.py\n\n## Setup the analysis\n\nYet to be written\n\n## OLD INSTRUCTIONS BELOW\n\n<ul>\n  <li>run do_links (assume you have installed this repository as one subdirectory of Delphes-3.0.9/10)\n    <ul>\n      <li>./do_links.sh</li>\n    </ul>\n  </li>\n  <li>setup (used to setup correct root version, compatible with .root creation on lxplus, and libraries directory while running)\n    <ul>\n      <li>source setup.sh</li>\n      <li>source setup_afs.sh</li>\n    </ul>\n  </li>\n  <li>compile (where BLA is the program defined in BLA.cc)\n    <ul>\n      <li>make BLA.exe</li>\n    </ul>\n  </li>\n  <li>run\n    <ul>\n      <li>./BLA.exe</li>\n      <li>./ntupleProducerVbfHHbbXX.exe -i ../data/delphes_output_vbfHH_MCHM4_0_06_13_GEN.root</li>\n    </ul>\n  </li>\n</ul>\n\n\n\n\n\n\nDelphes simulation:\n\n    rm data/delphes_output_ggHHnew.root\n    ./DelphesHepMC examples/delphes_card_CMS.tcl data/delphes_output_ggHHnew.root data/test-MR410_out.lhe.hepmc\n    ./DelphesHepMC examples/delphes_card_CMS.tcl data/delphes_output_ttbar.root data/test-ttbar.lhe.hepmc\n    ./DelphesHepMC examples/delphes_card_CMS.tcl data/delphes_output_vbfHHWWbb.root data/test-MR410_out.lhe.hepmc\n    \n\nNtuple producer:\n\n    cd LH-HH-Analysis\n    source setup.sh \n    make ntupleProducerVbfHHbbXX.exe\n    ./ntupleProducerVbfHHbbXX.exe -i ../data/delphes_output_ggHHnew.root\n    ./ntupleProducerVbfHHbbXX.exe -i ../data/delphes_output_ttbar.root\n    ./ntupleProducerVbfHHbbXX.exe -i ../data/delphes_output_vbfHHWWbb.root\n", 
  "id": 12078490
}